<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="row">
      <h1 class="text-center">Image Processing Api</h1>
      <div class="col-md-6 offset-md-3">
        <% if (error && error.length) { %>
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <%= error %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% } %></div>
   
      <div class="col-md-6 offset-md-3">
        <form action="/api/images" target="_blank">
          <h2>Resize:</h2>
          <p>What size do you need?</p>
          <div class="mb-3">
            <label for="w">Width:</label>
            <input type="number" name="w" id="" required/>
          </div>
          <div class="mb-3">
            <label for="h">Height:</label>
            <input type="number" name="h" id="" required/>
          </div>
          
          <p>Available Images:</p>
          <div class="row row-cols-1 row-cols-md-3 g-3 mb-3">
          <% images.forEach(function(img, i) { %>
            <div class="col">
              <div class="card">
                <img src="full/<%= img %>" class="card-img" alt="err" required/>
                <div class="card-img-overlay text-end pt-1 pe-2">
                  <label for="image-<%=i%>"></label>
                  <input type="radio" class="form-check-input" id="image-<%=i%>" name="filename" value="<%= img.slice(0,-4) %>" />
                </div>
              </div>
            </div>
          <% }); %>
          </div>
          <button class="btn btn-primary">Resize</button>
       </form>
      </div>
      <div class="col-md-6 offset-md-3 mt-5">

        <form action="">
          <h2>Add your picture:</h2>
          <p>This is currently not working. </p>
          <p>The idea is to allow user to upload their image that they need to resize. 
            After submitting the image, user stays on this page and their image would be displayed
             in the Available Images in the form at the top of this page. They would then proceed to resize.</p>
          <div class="mb-3">
            <label for="image" class="form-label">Add image:</label>
            <input class="form-control" type="file" name="image" id="file-selector" />
          </div>
        </form>
        
      </div> 
  </div>
 
</script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
    <script src="/js/BootstrapValidateForms.js"></script>
  </body>
</html>




